# Визуализация песчаной кучи

Реализация [Модели песчаной кучи](https://en.wikipedia.org/wiki/Abelian_sandpile_model), сохраняющей свои состояния в картинку в формате BMP. 
Изначальное состояние и размер сетки задается. 

## Аргументы командной строки

  **-l, --length**   - длина сетки (гарантированно влезет в uint16_t)
  
  **-w, --width**    - ширина сетки (гарантированно влезет в uint16_t)
  
  **-i, --input**    - tsv-файл (tab-separated values) c начальными данными
  
  **-o, --output**   - путь к директории, для сохранения картинок
  
  **-m, --max-iter** - максимальное количество итераций модели
  
  **-f, --freq**     - частота с которой должны сохранятся картинки (если 0, то сохраняется только последнее состояние)
  
## Начальное состояние

Начальное состояние задается размерами сетки, переданными в качестве аргументов программы и файлом с изначальным количеством песчинок в каждой ячейке, кроме пустых.

Формат файла: 
Каждая сторчка содержит информацию об обной ячейке, в виде (x-координаты, y-координаты, количестве песчинок), разделенных символом табуляции.

## Результат работы

Картинка для текущего состояния формируется по следующим правилам:

1. Размер картинки равен размеру поля

2. Каждый пиксель соответствует ячейке поля

3. Цвет пикселя зависит от количество песчинок  в ячейке: 0 - белый, 1 - зеленый, 2 - фиолетовый, 3 - желтый, > 3 - черный.


## Примечание
Пример результата можно увидеть в директории /images




  
